(()=>{var d=(Math.random()*1e4).toString().substr(0,4),o=new Peer(d),e=null;var c=document.getElementById("webCam"),s=document.getElementById("localVideo"),l=document.getElementById("remoteVideo"),a=document.getElementById("callButton"),m=document.getElementById("input");c.onclick=async()=>{e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0}),s.srcObject=e,a.disabled=!1,answerButton.disabled=!1,c.disabled=!0};a.onclick=()=>{o.call(m.value,e).on("stream",n=>{l.srcObject=n})};o.on("call",function(t){t.answer(e),t.on("stream",n=>{l.srcObject=n})});})();

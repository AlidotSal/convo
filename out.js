(()=>{var c=(Math.random()*1e4).toString().substr(0,4),e,a=new Peer(c);window.onload=async()=>{e=await navigator.mediaDevices.getUserMedia({video:!0,audio:!0})};var n=document.getElementById("localVideo"),d=document.getElementById("remoteVideo"),l=document.getElementById("callButton"),r=document.getElementById("input"),m=document.getElementById("number"),s=document.createTextNode(c);m.appendChild(s);l.onclick=()=>{n.srcObject=e;let t=a.call(r.value,e);n.onloadedmetadata=function(){n.play()},t.on("stream",o=>{d.srcObject=o})};a.on("call",t=>{t.answer(e),n.srcObject=e,t.on("stream",o=>{d.srcObject=o})});})();
